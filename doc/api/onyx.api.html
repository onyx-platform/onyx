<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>onyx.api documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Onyx 0.9.10-beta4 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>onyx</span></div></div></li><li class="depth-2 branch current"><a href="onyx.api.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>compression</span></div></div></li><li class="depth-3"><a href="onyx.compression.nippy.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>nippy</span></div></a></li><li class="depth-2 branch"><a href="onyx.doc.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>doc</span></div></a></li><li class="depth-2 branch"><a href="onyx.extensions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>extensions</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>flow-conditions</span></div></div></li><li class="depth-3 branch"><a href="onyx.flow-conditions.fc-compile.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fc-compile</span></div></a></li><li class="depth-3"><a href="onyx.flow-conditions.fc-routing.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fc-routing</span></div></a></li><li class="depth-2 branch"><a href="onyx.information-model.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>information-model</span></div></a></li><li class="depth-2 branch"><a href="onyx.interop.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>interop</span></div></a></li><li class="depth-2 branch"><a href="onyx.job.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>job</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>log</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>commands</span></div></div></li><li class="depth-4 branch"><a href="onyx.log.commands.abort-join-cluster.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>abort-join-cluster</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.accept-join-cluster.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>accept-join-cluster</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.add-virtual-peer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>add-virtual-peer</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.assign-bookkeeper-log-id.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>assign-bookkeeper-log-id</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.backpressure-off.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>backpressure-off</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.backpressure-on.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>backpressure-on</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.compact-bookkeeper-log-ids.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>compact-bookkeeper-log-ids</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.deleted-bookkeeper-log-ids.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>deleted-bookkeeper-log-ids</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.exhaust-input.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>exhaust-input</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.gc.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>gc</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.group-leave-cluster.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>group-leave-cluster</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.kill-job.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>kill-job</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.leave-cluster.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>leave-cluster</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.notify-join-cluster.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>notify-join-cluster</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.peer-replica-view.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>peer-replica-view</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.prepare-join-cluster.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>prepare-join-cluster</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.seal-output.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>seal-output</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.set-replica.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>set-replica</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.signal-ready.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>signal-ready</span></div></a></li><li class="depth-4"><a href="onyx.log.commands.submit-job.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>submit-job</span></div></a></li><li class="depth-3 branch"><a href="onyx.log.curator.html"><div class="inner"><span class="tree" style="top: -672px;"><span class="top" style="height: 681px;"></span><span class="bottom"></span></span><span>curator</span></div></a></li><li class="depth-3 branch"><a href="onyx.log.entry.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>entry</span></div></a></li><li class="depth-3 branch"><a href="onyx.log.failure-detector.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>failure-detector</span></div></a></li><li class="depth-3 branch"><a href="onyx.log.replica.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>replica</span></div></a></li><li class="depth-3 branch"><a href="onyx.log.replica-invariants.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>replica-invariants</span></div></a></li><li class="depth-3"><a href="onyx.log.zookeeper.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>zookeeper</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -889px;"><span class="top" style="height: 898px;"></span><span class="bottom"></span></span><span>messaging</span></div></div></li><li class="depth-3"><a href="onyx.messaging.aeron-media-driver.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>aeron-media-driver</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>monitoring</span></div></div></li><li class="depth-3 branch"><a href="onyx.monitoring.custom-monitoring.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>custom-monitoring</span></div></a></li><li class="depth-3 branch"><a href="onyx.monitoring.measurements.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>measurements</span></div></a></li><li class="depth-3"><a href="onyx.monitoring.no-op-monitoring.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>no-op-monitoring</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>peer</span></div></div></li><li class="depth-3 branch"><a href="onyx.peer.communicator.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>communicator</span></div></a></li><li class="depth-3 branch"><a href="onyx.peer.grouping.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>grouping</span></div></a></li><li class="depth-3 branch"><a href="onyx.peer.operation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>operation</span></div></a></li><li class="depth-3 branch"><a href="onyx.peer.peer-group-manager.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>peer-group-manager</span></div></a></li><li class="depth-3"><a href="onyx.peer.pipeline-extensions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pipeline-extensions</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>plugin</span></div></div></li><li class="depth-3 branch"><a href="onyx.plugin.buffered-reader.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>buffered-reader</span></div></a></li><li class="depth-3 branch"><a href="onyx.plugin.core-async.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core-async</span></div></a></li><li class="depth-3 branch"><a href="onyx.plugin.simple-input.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>simple-input</span></div></a></li><li class="depth-3 branch"><a href="onyx.plugin.timeout-reader.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>timeout-reader</span></div></a></li><li class="depth-3"><a href="onyx.plugin.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li><li class="depth-2 branch"><a href="onyx.query.html"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>query</span></div></a></li><li class="depth-2 branch"><a href="onyx.refinements.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>refinements</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scheduling</span></div></div></li><li class="depth-3 branch"><a href="onyx.scheduling.acker-scheduler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>acker-scheduler</span></div></a></li><li class="depth-3 branch"><a href="onyx.scheduling.balanced-job-scheduler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>balanced-job-scheduler</span></div></a></li><li class="depth-3 branch"><a href="onyx.scheduling.balanced-task-scheduler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>balanced-task-scheduler</span></div></a></li><li class="depth-3 branch"><a href="onyx.scheduling.colocated-task-scheduler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>colocated-task-scheduler</span></div></a></li><li class="depth-3 branch"><a href="onyx.scheduling.common-job-scheduler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common-job-scheduler</span></div></a></li><li class="depth-3 branch"><a href="onyx.scheduling.common-task-scheduler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common-task-scheduler</span></div></a></li><li class="depth-3 branch"><a href="onyx.scheduling.greedy-job-scheduler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>greedy-job-scheduler</span></div></a></li><li class="depth-3 branch"><a href="onyx.scheduling.percentage-job-scheduler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>percentage-job-scheduler</span></div></a></li><li class="depth-3"><a href="onyx.scheduling.percentage-task-scheduler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>percentage-task-scheduler</span></div></a></li><li class="depth-2 branch"><a href="onyx.schema.html"><div class="inner"><span class="tree" style="top: -300px;"><span class="top" style="height: 309px;"></span><span class="bottom"></span></span><span>schema</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>state</span></div></div></li><li class="depth-3 branch"><a href="onyx.state.bookkeeper.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bookkeeper</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>filter</span></div></div></li><li class="depth-4 branch"><a href="onyx.state.filter.rocksdb.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rocksdb</span></div></a></li><li class="depth-4"><a href="onyx.state.filter.set.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>set</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>log</span></div></div></li><li class="depth-4"><a href="onyx.state.log.none.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>none</span></div></a></li><li class="depth-3 branch"><a href="onyx.state.rocksdb.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>rocksdb</span></div></a></li><li class="depth-3"><a href="onyx.state.state-extensions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>state-extensions</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -269px;"><span class="top" style="height: 278px;"></span><span class="bottom"></span></span><span>static</span></div></div></li><li class="depth-3 branch"><a href="onyx.static.default-vals.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>default-vals</span></div></a></li><li class="depth-3 branch"><a href="onyx.static.helpful-job-errors.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>helpful-job-errors</span></div></a></li><li class="depth-3 branch"><a href="onyx.static.path-seq.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>path-seq</span></div></a></li><li class="depth-3 branch"><a href="onyx.static.planning.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>planning</span></div></a></li><li class="depth-3 branch"><a href="onyx.static.rotating-seq.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rotating-seq</span></div></a></li><li class="depth-3 branch"><a href="onyx.static.swap-pair.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>swap-pair</span></div></a></li><li class="depth-3 branch"><a href="onyx.static.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-3 branch"><a href="onyx.static.uuid.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>uuid</span></div></a></li><li class="depth-3"><a href="onyx.static.validation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>validation</span></div></a></li><li class="depth-2 branch"><a href="onyx.system.html"><div class="inner"><span class="tree" style="top: -300px;"><span class="top" style="height: 309px;"></span><span class="bottom"></span></span><span>system</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tasks</span></div></div></li><li class="depth-3 branch"><a href="onyx.tasks.core-async.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core-async</span></div></a></li><li class="depth-3"><a href="onyx.tasks.null.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>null</span></div></a></li><li class="depth-2 branch"><a href="onyx.test-helper.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>test-helper</span></div></a></li><li class="depth-2 branch"><a href="onyx.triggers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>triggers</span></div></a></li><li class="depth-2 branch"><a href="onyx.types.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>types</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>windowing</span></div></div></li><li class="depth-3 branch"><a href="onyx.windowing.aggregation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>aggregation</span></div></a></li><li class="depth-3 branch"><a href="onyx.windowing.units.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>units</span></div></a></li><li class="depth-3 branch"><a href="onyx.windowing.window-extensions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>window-extensions</span></div></a></li><li class="depth-3"><a href="onyx.windowing.window-id.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>window-id</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="onyx.api.html#var-await-job-completion"><div class="inner"><span>await-job-completion</span></div></a></li><li class="depth-1"><a href="onyx.api.html#var-gc"><div class="inner"><span>gc</span></div></a></li><li class="depth-1"><a href="onyx.api.html#var-kill-job"><div class="inner"><span>kill-job</span></div></a></li><li class="depth-1"><a href="onyx.api.html#var-map-set-workflow-.3Eworkflow"><div class="inner"><span>map-set-workflow-&gt;workflow</span></div></a></li><li class="depth-1"><a href="onyx.api.html#var-shutdown-env"><div class="inner"><span>shutdown-env</span></div></a></li><li class="depth-1"><a href="onyx.api.html#var-shutdown-peer"><div class="inner"><span>shutdown-peer</span></div></a></li><li class="depth-1"><a href="onyx.api.html#var-shutdown-peer-group"><div class="inner"><span>shutdown-peer-group</span></div></a></li><li class="depth-1"><a href="onyx.api.html#var-shutdown-peers"><div class="inner"><span>shutdown-peers</span></div></a></li><li class="depth-1"><a href="onyx.api.html#var-start-env"><div class="inner"><span>start-env</span></div></a></li><li class="depth-1"><a href="onyx.api.html#var-start-peer-group"><div class="inner"><span>start-peer-group</span></div></a></li><li class="depth-1"><a href="onyx.api.html#var-start-peers"><div class="inner"><span>start-peers</span></div></a></li><li class="depth-1"><a href="onyx.api.html#var-submit-job"><div class="inner"><span>submit-job</span></div></a></li><li class="depth-1"><a href="onyx.api.html#var-subscribe-to-log"><div class="inner"><span>subscribe-to-log</span></div></a></li><li class="depth-1"><a href="onyx.api.html#var-validate-submission"><div class="inner"><span>validate-submission</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">onyx.api</h2><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-await-job-completion"><h3>await-job-completion</h3><h4 class="added">added in 0.7.4</h4><div class="usage"><code>(await-job-completion peer-client-config job-id)</code><code>(await-job-completion peer-client-config job-id timeout-ms)</code></div><div class="doc"><pre class="plaintext">Blocks until job-id has had all of its tasks completed or the job is killed.
Returns true if the job completed successfully, false if the job was killed.</pre></div></div><div class="public anchor" id="var-gc"><h3>gc</h3><h4 class="added">added in 0.6.0</h4><div class="usage"><code>(gc peer-client-config)</code></div><div class="doc"><pre class="plaintext">Invokes the garbage collector on Onyx. Compresses all local replicas
for peers, decreasing memory usage. Also deletes old log entries from
ZooKeeper, freeing up disk space.

Local replicas clear out all data about completed and killed jobs -
as if they never existed.</pre></div></div><div class="public anchor" id="var-kill-job"><h3>kill-job</h3><h4 class="added">added in 0.6.0</h4><div class="usage"><code>(kill-job peer-client-config job-id)</code></div><div class="doc"><pre class="plaintext">Kills a currently executing job, given its job ID. All peers executing
tasks for this job cleanly stop executing and volunteer to work on other jobs.
Task lifecycle APIs for closing tasks are invoked. This job is never again scheduled
for execution.</pre></div></div><div class="public anchor" id="var-map-set-workflow-.3Eworkflow"><h3>map-set-workflow-&gt;workflow</h3><h4 class="added">added in 0.6.0</h4><div class="usage"><code>(map-set-workflow-&gt;workflow workflow)</code></div><div class="doc"><pre class="plaintext">Converts a workflow in format:
{:a #{:b :c}
 :b #{:d}}
to format:
[[:a :b]
 [:a :c]
 [:b :d]]</pre></div></div><div class="public anchor" id="var-shutdown-env"><h3>shutdown-env</h3><h4 class="added">added in 0.6.0</h4><div class="usage"><code>(shutdown-env env)</code></div><div class="doc"><pre class="plaintext">Shuts down the given development environment.
</pre></div></div><div class="public anchor" id="var-shutdown-peer"><h3>shutdown-peer</h3><h4 class="added">added in 0.6.0</h4><div class="usage"><code>(shutdown-peer peer)</code></div><div class="doc"><pre class="plaintext">Shuts down the virtual peer, which releases all of its resources
and removes it from the execution of any tasks. This peer will
no longer volunteer for tasks. Returns nil.</pre></div></div><div class="public anchor" id="var-shutdown-peer-group"><h3>shutdown-peer-group</h3><h4 class="added">added in 0.6.0</h4><div class="usage"><code>(shutdown-peer-group peer-group)</code></div><div class="doc"><pre class="plaintext">Shuts down the given peer-group
</pre></div></div><div class="public anchor" id="var-shutdown-peers"><h3>shutdown-peers</h3><h4 class="added">added in 0.8.1</h4><div class="usage"><code>(shutdown-peers peers)</code></div><div class="doc"><pre class="plaintext">Like shutdown-peer, but takes a sequence of peers as an argument,
shutting each down in order. Returns nil.</pre></div></div><div class="public anchor" id="var-start-env"><h3>start-env</h3><h4 class="added">added in 0.6.0</h4><div class="usage"><code>(start-env env-config)</code></div><div class="doc"><pre class="plaintext">Starts a development environment using an in-memory implementation of ZooKeeper.
</pre></div></div><div class="public anchor" id="var-start-peer-group"><h3>start-peer-group</h3><h4 class="added">added in 0.6.0</h4><div class="usage"><code>(start-peer-group peer-config)</code></div><div class="doc"><pre class="plaintext">Starts a set of shared resources that are used across all virtual peers on this machine.
Optionally takes a monitoring configuration map. See the User Guide for details.</pre></div></div><div class="public anchor" id="var-start-peers"><h3>start-peers</h3><h4 class="added">added in 0.6.0</h4><div class="usage"><code>(start-peers n peer-group)</code></div><div class="doc"><pre class="plaintext">Launches n virtual peers. Each peer may be stopped by passing it to the shutdown-peer function.
</pre></div></div><div class="public anchor" id="var-submit-job"><h3>submit-job</h3><h4 class="added">added in 0.6.0</h4><div class="usage"><code>(submit-job peer-client-config job)</code></div><div class="doc"><pre class="plaintext">Takes a peer configuration, job map, and optional monitoring config,
sending the job to the cluster for eventual execution. Returns a map
with :success? indicating if the job was submitted to ZooKeeper. The job map
may contain a :metadata key, among other keys described in the user
guide. The :metadata key may optionally supply a :job-id value. Repeated
submissions of a job with the same :job-id will be treated as an idempotent
action. If a job has been submitted more than once, the original task IDs
associated with the catalog will be returned, and the job will not run again,
even if it has been killed or completed. If two or more jobs with the same
:job-id are submitted, each will race to write a content-addressable hash
value to ZooKeeper. All subsequent submitting jobs must match the hash value
exactly, otherwise the submission will be rejected. This forces all jobs
under the same :job-id to have exactly the same value.</pre></div></div><div class="public anchor" id="var-subscribe-to-log"><h3>subscribe-to-log</h3><h4 class="added">added in 0.6.0</h4><div class="usage"><code>(subscribe-to-log peer-client-config ch)</code></div><div class="doc"><pre class="plaintext">Sends all events from the log to the provided core.async channel.
Starts at the origin of the log and plays forward monotonically.

Returns a map with keys :replica and :env. :replica contains the origin
replica. :env contains an Component with a :log connection to ZooKeeper,
convenient for directly querying the znodes. :env can be shutdown with
the onyx.api/shutdown-env function</pre></div></div><div class="public anchor" id="var-validate-submission"><h3>validate-submission</h3><div class="usage"><code>(validate-submission job peer-client-config)</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></body></html>